% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/boot_list_to_dataframe.R
\name{boot_list_to_dataframe}
\alias{boot_list_to_dataframe}
\title{Convert a list of \code{boot} objects to a tidy data frame}
\usage{
boot_list_to_dataframe(boot_list, grouping_var)
}
\arguments{
\item{boot_list}{A named list of objects of class \code{"boot"}, as returned
by \code{\link[boot:boot]{boot::boot()}}. Each list element must correspond to exactly
one group, and the list names are used as the values of the grouping
variable.}

\item{grouping_var}{A character string giving the name of the grouping
variable (e.g. \code{"year"}). This will be used as the column name in the
returned data frame.}
}
\value{
A data frame with the following columns:
\itemize{
\item \code{sample}: Sample ID of the bootstrap replicate
\item \code{est_original}: The statistic based on the full dataset per group
\item \code{rep_boot}: The statistic based on a bootstrapped dataset (bootstrap
replicate)
\item \code{est_boot}: The bootstrap estimate (mean of bootstrap replicates per
group)
\item \code{se_boot}: The standard error of the bootstrap estimate (standard
deviation of the bootstrap replicates per group)
\item \code{bias_boot}: The bias of the bootstrap estimate per group
}
}
\description{
This function converts a named list of \code{"boot"} objects
(typically produced by \code{\link[=bootstrap_cube]{bootstrap_cube()}} into a single
long-format data frame. Each element of the list is assumed to correspond
to one group, with the list names defining the values of the grouping
variable.
}
\details{
This function is primarily intended for use with bootstrapping using the
\code{\link[=bootstrap_cube]{bootstrap_cube()}} function generated with boot methods.

The function assumes that each \code{boot} object in \code{boot_list}
contains a single bootstrap statistic per replicate (i.e. \code{boot$t}
is a vector or a one-column matrix).
}
\examples{
\dontrun{
# After processing a data cube with b3gbi::process_cube()

# Function to calculate statistic of interest
# Mean observations per year
mean_obs <- function(x) {
  out_df <- aggregate(obs ~ year, x, mean) # Calculate mean obs per year
  names(out_df) <- c("year", "diversity_val") # Rename columns
  return(out_df)
}
mean_obs(processed_cube$data)

# Perform bootstrapping
bootstrap_mean_obs <- bootstrap_cube(
  data_cube = processed_cube,
  fun = mean_obs,
  grouping_var = "year",
  samples = 1000,
  method = "boot_group_specific",
  seed = 123
)

bootstrap_df <- boot_list_to_dataframe(
  boot_list = bootstrap_mean_obs,
  grouping_var = "year"
)

head(bootstrap_df)
}
}
\seealso{
Other indicator_uncertainty_helper: 
\code{\link{bootstrap_cube_raw}()},
\code{\link{calculate_boot_ci_from_boot}()},
\code{\link{derive_bootstrap_method}()},
\code{\link{resolve_bootstrap_method}()}
}
\concept{indicator_uncertainty_helper}
